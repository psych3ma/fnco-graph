# 디자인 레퍼런스 적용 검토 (디자이너 출신 CTO 관점, 협업 코드 고려)

## 레퍼런스 요약(스크린샷 기준)

- **배경**: 다크 캔버스, 노드·엣지 대비 명확
- **노드**: 원형, 2단 라벨(1행 짧은 이름·굵게, 2행 전체 이름), 타입별 색상(주황·파랑·빨강)
- **엣지**: 방향 화살표, 기본 회색·블루, 강조 시 주황
- **상태**: 선택/호버 시 글로우·강조색
- **레전드**: 노드 유형별 색상·건수 표시

---

## 1. 레퍼런스 대비 적용 현황

### ✅ 이미 반영된 항목

| 항목 | 레퍼런스 | 구현 위치 | 비고 |
|------|----------|-----------|------|
| 다크 배경 | #0e0f13 계열 | `styles.css` `--canvas-bg`, 그래프 영역 | DESIGN TOKENS로 통일 |
| 노드 색상 | 회사 주황, 개인 빨강, 기관 보라/파랑 | `constants.js` NODE_TYPE_META, `--c-company` 등 | 협업: 단일 소스 |
| 엣지 방향 | 화살표 | `graph-manager.js` `arrows: { to: { enabled: true } }` | 일관 적용 |
| 엣지 색상 | 기본 회색·블루, 강조 주황 | `toVisEdge` color, `highlightNeighbors` 시 #d85604 | |
| 노드 글로우/강조 | 선택·연결 노드 하이라이트 | `getNetworkOptions` shadow, `highlightNeighbors` | |
| 노드 크기 차등 | 중심/중요 노드 더 큼 | `app.js` calculateNodeSize (관계·지분 기반) | |
| 레전드 | 노드 유형·건수 | `index.html` graph-legend, `app.js` updateStatistics | |

### ✅ 이번에 맞춘 항목 (2단 라벨)

| 항목 | 레퍼런스 | 적용 내용 |
|------|----------|-----------|
| 2단 라벨 | 1행: 짧은 이름(굵게), 2행: 전체 이름 | `graph-manager.js` `toVisNode`: `displayName` 기반 1행 2글자(또는 전체) + 2행 전체 이름, `font.multi: 'html'`, 1행 `<b>` 처리 |
| 툴팁 | 전체 이름 표시 | 노드 `title: fullName` 설정 |

- **짧은 이름 규칙**: `displayName`이 3글자 이상이면 앞 2글자를 1행으로 사용(예: 삼성전자 → 삼성, 이재용 → 이재). 2글자 이하는 1행만 표시.
- **협업**: 짧은 이름 규칙을 나중에 백엔드 `shortName` 등으로 바꿀 수 있도록 `displayName` 우선 사용.

---

## 2. 레퍼런스와의 미세 차이·한계

| 항목 | 레퍼런스 | 현재 | 권장 |
|------|----------|------|------|
| 1행 폰트 | 더 크게/강조 | vis.js 한 노드당 단일 font.size, 1행만 `<b>` | 유지. 필요 시 나중에 custom renderer 검토 |
| 엣지 스타일 | 한 레퍼런스에 “흰 사각 블록” 연결 | 현재는 화살표만 | 관계 타입별 엣지 스타일(점선·다른 끝 모양)은 추후 스펙 확정 후 적용 |
| “우리금융지주” 등 주황·저글로우 | 서브 카테고리/비포커스 | 타입은 주황, 강조는 선택/연결 시만 | 의도된 계층(포커스 vs 비포커스)으로 문서화해 두었음 |

---

## 3. 협업 코드 관점

- **색상·타입**: `frontend/webapp/js/config/constants.js`의 `NODE_TYPE_META`와 `styles.css`의 `:root` 토큰만 수정하면 노드/패널 색상이 통일되도록 구성됨.
- **노드 라벨**: `toVisNode`에서만 라벨 문자열 생성. `displayName`/`shortName` 규칙 변경 시 해당 함수와(및 필요 시 백엔드 displayName 규칙)만 맞추면 됨.
- **엣지**: `toVisEdge`와 `highlightNeighbors`에서 색·화살표 일관 적용. 관계 타입별 스타일 추가 시 여기와 constants 확장으로 관리 가능.

---

## 4. 수정된 파일

- `frontend/webapp/js/core/graph-manager.js`
  - `toVisNode`: 2단 라벨(짧은 이름 + 전체 이름), `font.multi: 'html'`, `title` 툴팁, `escapeHtml` 추가.

---

## 5. 요약

- 레퍼런스의 **다크 톤, 노드/엣지 색상, 방향성, 글로우·강조, 레전드**는 이미 반영되어 있음.
- **노드 2단 라벨(짧은 이름 굵게 + 전체 이름)**은 이번에 적용했고, vis.js 제약 안에서 1행 bold로 위계를 맞춤.
- 엣지 “흰 사각 블록” 등 세부 스타일과 1행 폰트 크기 차이는 추후 디자인 스펙이 정해지면 단일 소스(constants/options) 기준으로 확장하는 것을 권장함.
