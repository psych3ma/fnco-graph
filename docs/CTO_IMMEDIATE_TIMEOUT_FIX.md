# 즉시 대응: 타임아웃 문제 해결

## 문제 상황

- `/api/graph/analysis` 엔드포인트가 60초 타임아웃에 걸림
- 폴백 요청(`getGraphData`)도 실패
- 데이터를 불러올 수 없는 상태

## 적용한 즉시 대응 조치

### 1. 초기 로드 파라미터 감소 ✅

**변경 사항**:
- `INITIAL_GRAPH_EDGE_LIMIT`: 500 → 200
- `INITIAL_GRAPH_NODE_CAP`: 500 → 200
- `GRAPH_FALLBACK_TIMEOUT`: 30초 → 20초

**효과**:
- 요청 데이터량 감소로 응답 시간 단축
- 타임아웃 발생 가능성 감소

### 2. 폴백 요청 최적화 ✅

**변경 사항**:
- 폴백 요청 시 더 작은 limit과 node_cap 사용 (최대 100개)
- 타임아웃 20초로 단축

**효과**:
- 폴백 요청 성공 가능성 증가
- 최소한의 데이터라도 표시 가능

## 변경 파일

1. `frontend/webapp/js/config/constants.js`
   - `INITIAL_GRAPH_EDGE_LIMIT = 200`
   - `INITIAL_GRAPH_NODE_CAP = 200`
   - `GRAPH_FALLBACK_TIMEOUT = 20000`

2. `frontend/webapp/js/app.js`
   - 폴백 요청 시 더 작은 값 사용

## 다음 단계 (근본 원인 해결)

### 백엔드 상태 확인 필요

1. **백엔드 서버 상태 확인**
   - 서버가 실행 중인지 확인
   - 로그 확인 (타임아웃 원인 파악)

2. **Neo4j 연결 상태 확인**
   - Neo4j 서버가 실행 중인지 확인
   - 연결 풀 상태 확인

3. **쿼리 성능 확인**
   - Neo4j 쿼리 실행 시간 확인
   - 인덱스 활용 여부 확인

### 성능 최적화 (중기)

1. **Neo4j 쿼리 최적화**
   - 인덱스 추가
   - 쿼리 최적화

2. **NetworkX 분석 최적화**
   - 이미 적용됨 (pagerank_scipy, 조건부 실행)

3. **점진적 로딩 구현**
   - 작은 데이터로 먼저 표시
   - 백그라운드에서 추가 로드

## 테스트 필요

- [ ] 초기 로드 시 200개 엣지/노드로 정상 동작 확인
- [ ] 폴백 요청 시 100개 엣지/노드로 정상 동작 확인
- [ ] 백엔드 서버 상태 확인
- [ ] Neo4j 연결 상태 확인
